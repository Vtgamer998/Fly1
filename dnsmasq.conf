# ==========================================
# DNSMASQ - INTERCEPTAÇÃO COMPLETA ROCKSTAR
# GTA V Online Custom Server
# ==========================================

# CONFIGURAÇÃO BÁSICA
port=53
listen-address=0.0.0.0
bind-interfaces
user=root

# DESABILITAR arquivos do sistema
no-resolv
no-hosts
no-poll

# DNS UPSTREAM (outros sites)
server=8.8.8.8
server=8.8.4.4
server=1.1.1.1
server=1.0.0.1

# LOGS (essencial para debug)
log-queries
log-facility=-
log-async

# ==========================================
# INTERCEPTAÇÃO ROCKSTAR → RENDER SERVER
# ==========================================

# WILDCARD - PEGA TUDO DA ROCKSTAR (MAIS IMPORTANTE!)
address=/.rockstargames.com/app-113p.onrender.com

# URLs PRINCIPAIS
address=/rockstargames.com/app-113p.onrender.com
address=/www.rockstargames.com/app-113p.onrender.com
address=/ros.rockstargames.com/app-113p.onrender.com
address=/prod.ros.rockstargames.com/app-113p.onrender.com

# SOCIAL CLUB (autenticação)
address=/socialclub.rockstargames.com/app-113p.onrender.com
address=/scapi.rockstargames.com/app-113p.onrender.com
address=/auth.rockstargames.com/app-113p.onrender.com
address=/signin.rockstargames.com/app-113p.onrender.com

# TELEMETRIA
address=/telemetry.ros.rockstargames.com/app-113p.onrender.com
address=/prod.telemetry.ros.rockstargames.com/app-113p.onrender.com

# GAME SERVICES (CRÍTICO - matchmaking, sessões)
address=/gameservices.ros.rockstargames.com/app-113p.onrender.com
address=/prod.gameservices.ros.rockstargames.com/app-113p.onrender.com

# MATCHMAKING (CRÍTICO - encontrar jogadores)
address=/matchmaking.rockstargames.com/app-113p.onrender.com
address=/prod.matchmaking.rockstargames.com/app-113p.onrender.com

# CLOUD SAVE (save/load personagem)
address=/cloud.rockstargames.com/app-113p.onrender.com
address=/prod.cloud.rockstargames.com/app-113p.onrender.com

# SESSION MANAGER (gerenciar sessões)
address=/session.rockstargames.com/app-113p.onrender.com
address=/prod.session.rockstargames.com/app-113p.onrender.com

# STATS API (estatísticas, rank, money)
address=/statsapi.rockstargames.com/app-113p.onrender.com
address=/prod.statsapi.rockstargames.com/app-113p.onrender.com

# TITLE UPDATES (atualizações do jogo)
address=/titleupdate.rockstargames.com/app-113p.onrender.com
address=/prod.titleupdate.rockstargames.com/app-113p.onrender.com

# COMMERCE (compras in-game, Shark Cards)
address=/commerce.rockstargames.com/app-113p.onrender.com
address=/prod.commerce.rockstargames.com/app-113p.onrender.com

# PLAYER DATA (dados do jogador)
address=/playerdata.rockstargames.com/app-113p.onrender.com
address=/prod.playerdata.rockstargames.com/app-113p.onrender.com

# ==========================================
# PERFORMANCE (ajustado para DNS leve)
# ==========================================
cache-size=1000
max-cache-ttl=600
min-cache-ttl=60

# ==========================================
# SEGURANÇA
# ==========================================
domain-needed
bogus-priv
stop-dns-rebind
rebind-localhost-ok

# ==========================================
# OUTRAS CONFIGURAÇÕES
# ==========================================
expand-hosts
strict-order
